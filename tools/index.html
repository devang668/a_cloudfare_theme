<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>在线工具箱</title>
<style>
  :root{
    --grad-start:#fef9e7;
    --grad-end:#fdebd0;
    --accent1:#f39c12;
    --accent2:#e67e22;
  }
  *{margin:0;padding:0;box-sizing:border-box}
  body{
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background:linear-gradient(135deg,var(--grad-start),var(--grad-end));
    min-height:100vh;
    color:#333;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:40px 20px;
  }
  header{
    width:100%;
    max-width:800px;
    text-align:center;
    margin-bottom:30px;
  }
  h1{
    font-size:2.4rem;
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    margin-bottom:20px;
  }
  /* 分类按钮 */
  .tabs{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    justify-content:center;
  }
  .tab{
    padding:8px 18px;
    border-radius:20px;
    border:none;
    background:rgba(255,255,255,.7);
    backdrop-filter:blur(5px);
    cursor:pointer;
    font-weight:500;
    transition:all .3s;
    box-shadow:0 4px 12px rgba(0,0,0,.08);
  }
  .tab.active,
  .tab:hover{
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    color:#fff;
  }
  /* 工具网格 */
  main{
    width:100%;
    max-width:1200px;
  }
  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    gap:22px;
    margin-top:30px;
  }
  .card{
    background:rgba(255,255,255,.72);
    backdrop-filter:blur(10px);
    border-radius:18px;
    padding:22px 18px;
    text-align:center;
    box-shadow:0 8px 24px rgba(0,0,0,.06);
    border:1px solid rgba(255,255,255,.35);
    transition:transform .3s,box-shadow .3s;
  }
  .card:hover{
    transform:translateY(-6px);
    box-shadow:0 12px 30px rgba(0,0,0,.1);
  }
  .card-icon{
    width:32px;
    height:32px;
    margin:0 auto 10px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:16px;
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    color:#fff;
    border-radius:8px;
    box-shadow:0 2px 8px rgba(243,156,18,.25);
  }
  .card-title{
    font-size:1.05rem;
    font-weight:600;
    margin-bottom:6px;
  }
  .card-desc{
    font-size:.85rem;
    color:#555;
    margin-bottom:12px;
    line-height:1.4;
  }
  .card-link{
    display:inline-block;
    padding:6px 16px;
    border-radius:18px;
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    color:#fff;
    font-size:.85rem;
    text-decoration:none;
    box-shadow:0 2px 10px rgba(243,156,18,.3);
    transition:all .3s;
  }
  .card-link:hover{
    transform:translateY(-2px);
    box-shadow:0 4px 14px rgba(243,156,18,.4);
  }
  /* 加载提示 */
  #loading{
    text-align:center;
    margin-top:60px;
    font-size:1.1rem;
    color:#999;
  }
</style>
</head>
<body>

<header>
  <h1>在线工具箱</h1>
  <div class="tabs" id="tabs"></div>
</header>

<main>
  <div id="loading">加载中…</div>
  <div id="panels"></div>
</main>

<script>
  const tabsBox = document.getElementById('tabs');
  const panelsBox = document.getElementById('panels');
  const loading = document.getElementById('loading');

  /* 1. 拉取配置 */
  fetch('./tools.json')   // 可换成任意 https:// 地址
    .then(r => r.json())
    .then(renderAll)
    .catch(err => {
      loading.textContent = '加载失败，请检查网络或 tools.json 路径';
      console.error(err);
    });

  /* 2. 渲染函数 */
  function renderAll({categories}){
    loading.style.display = 'none';

    /* 2.1 渲染顶部分类按钮 */
    tabsBox.innerHTML = categories.map((c, i) =>
      `<button class="tab ${i === 0 ? 'active' : ''}" data-id="${c.id}">${c.name}</button>`
    ).join('');

    /* 2.2 渲染对应面板（默认显示第一个） */
    panelsBox.innerHTML = categories.map(c => `
      <section class="grid" id="panel-${c.id}" style="${c.id === categories[0].id ? '' : 'display:none'}">
        ${c.tools.map(t => `
          <div class="card">
            <div class="card-icon">${t.icon}</div>
            <div class="card-title">${t.title}</div>
            <div class="card-desc">${t.desc}</div>
            <a class="card-link" href="${t.url}" target="_blank" rel="noopener">打开工具</a>
          </div>
        `).join('')}
      </section>
    `).join('');

    /* 2.3 绑定切换事件 */
    tabsBox.addEventListener('click', e => {
      if (!e.target.classList.contains('tab')) return;
      const id = e.target.dataset.id;
      document.querySelectorAll('.tab').forEach(btn => btn.classList.toggle('active', btn === e.target));
      document.querySelectorAll('.grid').forEach(p => p.style.display = (p.id === 'panel-' + id ? '' : 'none'));
    });
  }
</script>

</body>
</html>
